
# 每日问题

1. 引用

Q: (20200312) 引用是变量的别名，指针存放的是变量的地址,引用直接访问到变量，指针间接访问到变量，指针存储变量的地址很好理解，请问引用这种可以直接访问变量的底层逻辑是怎么实现的？

A： 所以说这些概念真的误导人，你这段话哪里看来的。。。引用本质上就是指针，它访问的时候跟指针一模一样就是用的地址，引用和指针都是通过地址直接访问到变量。
    用唯一的特殊性是它没有办法声明为空，字面上给人感觉总是指向一个存在的东西，但是实际上你也可以把一个空指针解引用赋给一个引用。另外const引用这个常用套路你也知道了，
    所以引用本质上是个语法糖，没有任何新鲜的，增加可读性，可维护性而已，没有它，日子一样过。当然，等到了右值引用就是另一个世界了，那个太复杂了。

2. 线程安全 

Q: (20200313) 类似 br_tensorflow 中 BrKernelUtil 类，仅仅是一些接口, 这些接口的数据是外部 class 传入的；针对这种接口类，怎么保证线程安全；我有几个思路： 
    1）这种接口类本身就不应该存在，外部 class 的数据，以及对于这些数据的修改，都应该成为该 class 自身的成员函数，并且做好线程安全的控制； 
    2）另一个思路是, 针对 BrKernelUtil 的接口做线程安全的操作，对传入的数据加锁； 
    3）还有一个思路就是， 针对存在多线程，调用 BrKernelUtil 类中的接口的时候，直接对接口加锁， 比如 直接对 ReorderD2D() ， 加锁； 
    
问题是： 上述思路，是不是第一个更正确点？ 后面两种有点挫。 另外我们在设计一个纯接口的类的时候，怎么注意做到线程安全？